# -*- coding: utf-8 -*-
"""streamlit_app

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1GsRbGKphhBgkS7Ps_qdEP6rVxgv1NrP_
"""

import streamlit as st
import sqlite3
import pandas as pd

st.title("ğŸ“ˆ KOSPI Reports DB Viewer")

# DB ì—°ê²°
conn = sqlite3.connect("kospi_reports.db")

# í…Œì´ë¸” ëª©ë¡ ì¡°íšŒ
tables = pd.read_sql("SELECT name FROM sqlite_master WHERE type='table';", conn)
table_list = tables['name'].tolist()

selected_table = st.selectbox("í…Œì´ë¸” ì„ íƒ", table_list)

# ì„ íƒí•œ í…Œì´ë¸” ë‚´ìš© ì¡°íšŒ
if selected_table:
    df = pd.read_sql(f"SELECT * FROM {selected_table} LIMIT 100", conn)
    st.write(f"ğŸ” {selected_table} í…Œì´ë¸” ë¯¸ë¦¬ë³´ê¸° (ìµœëŒ€ 100í–‰)")
    st.dataframe(df)

conn.close()