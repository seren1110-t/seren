# -*- coding: utf-8 -*-
"""streamlit_app

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1GsRbGKphhBgkS7Ps_qdEP6rVxgv1NrP_
"""

# -*- coding: utf-8 -*-
import streamlit as st
import sqlite3
import pandas as pd

st.title("ğŸ“ˆ KOSPI Reports DB Viewer")

# DB ì—°ê²°
conn = sqlite3.connect("kospi_reports.db")

# ê¸°ë³¸ í…Œì´ë¸”ëª… ì§€ì • (ì˜ˆ: 'reports')
table_name = "reports"  # ì—¬ê¸°ì— ì‹¤ì œ í…Œì´ë¸” ì´ë¦„ì„ ë„£ìœ¼ì„¸ìš”

# ì¢…ëª©ëª… ê²€ìƒ‰ ì…ë ¥ì°½
search_term = st.text_input("ğŸ” ì¢…ëª©ëª… ê²€ìƒ‰", "")

# ì¿¼ë¦¬ ìƒì„±
if search_term:
    query = f"""
        SELECT * FROM {table_name}
        WHERE ì¢…ëª©ëª… LIKE ?
        LIMIT 100
    """
    df = pd.read_sql(query, conn, params=(f"%{search_term}%",))
else:
    query = f"SELECT * FROM {table_name} LIMIT 100"
    df = pd.read_sql(query, conn)

# ê²°ê³¼ ì¶œë ¥
st.write(f"ğŸ“„ {table_name} í…Œì´ë¸” ë¯¸ë¦¬ë³´ê¸° (ìµœëŒ€ 100í–‰)")
st.dataframe(df)

conn.close()
